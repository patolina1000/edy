<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>PrÃ©-venda | Acesso ao Telegram</title>

  <link rel="canonical" href="https://hadriellemaria.online/presell/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="PrÃ©-venda | Acesso ao Telegram">
  <meta property="og:description" content="Continue para acessar o bot no Telegram.">
  <meta property="og:url" content="https://hadriellemaria.online/presell/">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="dns-prefetch" href="https://connect.facebook.net">
  <link rel="preconnect" href="https://connect.facebook.net" crossorigin>
  <link rel="dns-prefetch" href="https://ipapi.co">
  <link rel="preconnect" href="https://ipapi.co">

  <link rel="stylesheet" href="/theme/overrides.css">
  <style>
    :root {
      color-scheme: light dark;
    }

    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      background: radial-gradient(circle at top, var(--brand-bg, #1f2937), #0f172a 55%);
      color: var(--brand-fg, #e2e8f0);
    }

    .container {
      width: min(420px, 100%);
    }

    .card {
      padding: 32px 28px;
      border-radius: calc(var(--radius, 24px) + 8px);
      box-shadow: 0 20px 60px rgba(15, 23, 42, 0.55);
      border: 1px solid rgba(148, 163, 184, 0.12);
      backdrop-filter: blur(16px);
      background: rgba(15, 23, 42, 0.92);
    }

    .hero {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 12px;
      margin-bottom: 24px;
    }

    .avatar-photo {
      width: 128px;
      height: 128px;
      border-radius: 28px;
      object-fit: cover;
      box-shadow: 0 24px 48px rgba(15, 23, 42, 0.45);
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .title {
      font-size: var(--fs-h1, 28px);
      font-weight: 800;
      letter-spacing: -0.02em;
      color: #f8fafc;
    }

    .subtitle {
      font-size: var(--fs-body, 16px);
      opacity: 0.85;
    }

    @media (max-width: 480px) {
      body {
        padding: 16px;
      }

      .card {
        padding: 28px 22px;
      }
    }
  </style>
  <link rel="preload" as="image" href="/images/perfil.jpg">
</head>
<body>
  <main class="container">
    <!-- === BLOCO NORMAL (seu card atual) === -->
    <div class="normal-wrap">
      <section class="card">
        <div class="hero">
          <img class="avatar-photo" src="/images/perfil.jpg" alt="Hadrielle Maria" width="128" height="128" loading="eager" fetchpriority="high">
          <h1 class="title">Hadrielle Maria</h1>
          <span class="badge-neon">Acesso VIP</span>
          <p class="subtitle">ConteÃºdos exclusivos e acesso ao meu Telegram.</p>
          <p class="geo">Pertinho de vocÃª, estou em <span id="geo-city">sua cidade</span>!</p>
        </div>

        <div class="buttons">
          <a id="cta-telegram" class="btn" href="#" rel="nofollow">Entrar no Telegram</a>
        </div>
        <p class="note"><small>Ao continuar, vocÃª concorda com nossos termos.</small></p>
      </section>
    </div>
    <!-- === INTERSTICIAL (neon + barra + contador) â€” comeÃ§a oculto === -->
    <div class="vip-wrap">
      <div class="card vip-card">
        <div class="vip-head">
          <div class="vip-tele" aria-hidden="true"></div>
          <img class="vip-avatar" src="/images/perfil.jpg" alt="Hadrielle" width="56" height="56" loading="eager" fetchpriority="high">
        </div>
        <h1 class="vip-title">Estamos preparando seu <span>acesso VIP...</span></h1>
        <p class="vip-sub">Aguarde alguns segundos enquanto configuramos<br>seu acesso exclusivo.</p>
        <div class="vip-badge"><span class="flame">ðŸ”¥</span> <span>92% das vagas jÃ¡ foram preenchidas</span></div>
        <div class="vip-progress progress"><div class="vip-bar bar" id="vipBar"></div></div>
        <div class="vip-count" id="vipCount">Redirecionando em 3 segundos...</div>
      </div>
    </div>
  </main>

  <!-- Meta Pixel loader -->
  <script>
    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
  </script>

  <script>
    // Expor/obter Pixel ID ANTES do init
    window.__PIXEL_ID__ = (window.APP_CONFIG && window.APP_CONFIG.PIXEL_ID) || '1280205146659070';
    fbq('init', window.__PIXEL_ID__);

    // Session id estÃ¡vel
    let sid = sessionStorage.getItem('sid');
    if (!sid) { sid = Math.random().toString(36).slice(2) + Date.now().toString(36); sessionStorage.setItem('sid', sid); }

    // PageView
    fbq('track','PageView', {}, {eventID: 'pgv:' + sid});

    // UTM capture
    (function(){
      const p = new URLSearchParams(location.search), utm = {};
      ['utm_source','utm_medium','utm_campaign','utm_content','utm_term','session_id'].forEach(k=>{
        const v = p.get(k); if (v) utm[k]=v;
      });
      sessionStorage.setItem('utms', JSON.stringify(utm));
    })();

    // Advanced Matching geo (timeout 800ms)
    (function(){
      const ctl = new AbortController(); const to = setTimeout(()=>ctl.abort(), 800);
      fetch('https://ipapi.co/json', {signal: ctl.signal}).then(r=>r.json()).then(d=>{
        clearTimeout(to);
        const am={}; if(d){ if(d.country)am.ct=d.country; if(d.city)am.cty=d.city; if(d.region)am.st=d.region; if(d.postal)am.zp=d.postal; }
        if(Object.keys(am).length) fbq('set','user',am);
        // tambÃ©m preencher cidade na UI
        const el = document.getElementById('geo-city'); if(el && d && d.city) el.textContent=d.city;
      }).catch(()=>{});
    })();

    // ViewContent
    fbq('track', 'ViewContent', {content_name:'presell'}, {eventID: 'vc:' + sid});

    // ... seu JS acima permanece igual (fbq init, sid, ViewContent etc.)
    // ====== TROCAR SOMENTE O HANDLER DO CTA ======
    const TELEGRAM_URL = 'https://t.me/Ayllars_bot?start=Ch'; // ajuste se quiser
    const cta    = document.getElementById('cta-telegram');
    const normal = document.querySelector('.normal-wrap');
    const vip    = document.querySelector('.vip-wrap');
    const barEl  = document.getElementById('vipBar');
    const cntEl  = document.getElementById('vipCount');

    function startVipRedirect(seconds){
      const total = seconds*1000; const t0 = performance.now();
      function tick(ts){
        const p = Math.min((ts - t0)/total, 1);
        barEl.style.width = (p*100) + '%';
        const remaining = Math.max(0, Math.ceil(seconds - p*seconds));
        cntEl.textContent = `Redirecionando em ${remaining} segundos...`;
        if(p<1){ requestAnimationFrame(tick); } else { location.href = TELEGRAM_URL; }
      }
      requestAnimationFrame(tick);
    }

    cta?.addEventListener('click', (ev)=>{
      ev.preventDefault();
      fbq('trackCustom','PresellCTAClick', {}, { eventID: 'cta:' + sid });
      normal && (normal.style.display = 'none');
      vip && (vip.style.display = 'block');
      startVipRedirect(3); // mude para 5 se quiser
    }, { once:true });
  </script>
</body>
</html>

